<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-US" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> Debian / Ubuntu Linux: Configure Network Bonding  [ Teaming / Aggregating NIC ]</title> <!--[if lte IE 8]><link
rel="stylesheet" href="http://files.cyberciti.biz/assets/blog/ssbie.css" type="text/css" media="screen, projection" /><![endif]--><link rel="alternate" type="application/rss+xml" title="nixCraft RSS Feed" href="http://feeds.cyberciti.biz/Nixcraft-LinuxFreebsdSolarisTipsTricks"><link rel="pingback" href="http://www.cyberciti.biz/tips/xmlrpc.php"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.cyberciti.biz/tips/xmlrpc.php?rsd"><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><meta name="ROBOTS" content="NOARCHIVE"><link rel="alternate" type="application/rss+xml" title="nixCraft » Debian / Ubuntu Linux: Configure Network Bonding  [ Teaming / Aggregating NIC ] Comments Feed" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html/feed"><meta name="description" content="Explains how to setup network teaming or aggregating multiple network connections under Debian or Ubuntu Linux server. "> 
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body class="custom"><div id="container"><div id="page"><ul class="menu"><li><a href="http://www.cyberciti.biz/tips/about-us" title="About us">About</a></li><li><a href="http://nixcraft.com/" title="Linux / UNIX Tech Support Forum">Forum</a></li><li><a href="http://www.cyberciti.biz/faq/" title="Linux / UNIX Mini Howtos and FAQs">Howtos &amp; FAQs</a></li><li><a href="http://www.cyberciti.biz/low.html?utm_source=graphicsversion&amp;utm_campaign=blog&amp;utm_medium=link" title="See site in low graphics bandwidth friendly mode">Low graphics</a></li><li><a href="http://bash.cyberciti.biz/" title="Linux/UNIX Shell scripts">Shell Scripts</a></li><li class="rss"><a href="http://feeds.cyberciti.biz/Nixcraft-LinuxFreebsdSolarisTipsTricks" title="nixCraft RSS Feed" rel="nofollow">RSS/Feed</a></li></ul><div id="header"><div id="leaderboard"><div id="lbtop"><div id="adstopage"><div id="load-adstopage">
	
</div></div></div></div><div id="crumbslogo"><a href="http://www.cyberciti.biz/" title="Home page">nixcraft - insight into linux admin work</a></div></div><div id="content_box"><div id="content" class="hfeed"><div class="post-8008 post type-post status-publish format-standard hentry category-debian-linux category-ubuntu-linux tag-etcinit-dnetworking tag-etcinit-dnetworking-restart tag-etcinit-dnetworking-start tag-etcinit-dnetworking-stop tag-procnetbondingbond0 tag-varlogmessages tag-apt-get-command tag-cat-command tag-how-to-create-a-bond-in-linux tag-ifconfig-bond tag-ifenslave-command tag-linux-bond tag-linux-bonded-interfaces tag-linux-bonding tag-linux-nic-teaming tag-nic-bonding-linux post_box top" id="post-8008"><div class="headline_area"><h1 class="entry-title">Debian / Ubuntu Linux: Configure Network Bonding  [ Teaming / Aggregating NIC ]</h1><p class="headline_meta">by <span class="author vcard fn">Vivek Gite</span> on <abbr class="published" title="2011-09-04">September 4, 2011</abbr> · <span><a href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html#comments" rel="nofollow">7 comments</a></span></p></div><div class="format_text entry-content"><div style="float: right; margin-top: 0px; margin-left: 5px;"><a href="http://www.cyberciti.biz/tips/category/debian-linux" title="See all Debian/Ubuntu Linux related tips/articles"><img src="debianlogo.gif" border="0"></a></div><p><span class="drop_cap">N</span>IC teaming is nothing but combining or aggregating multiple network connections in parallel. This is done to increase throughput, and to provide redundancy in case one of the links fails or  Ethernet card fails. The Linux kernel comes with the bounding driver for aggregating multiple network interfaces into a single logical interface called bond0. In this tutorial, I will explain how to setup bonding under Debian Linux server to aggregate multiple Ethernet devices  into a single link, to get higher data rates and link failover.<br> <span id="more-8008"></span></p><div style="float: right; margin-top: 0px; margin-left: 5px;"><a href="http://www.cyberciti.biz/tips/category/ubuntu-linux" title="See all Ubuntu Linux related FAQ"><img src="ubuntu-logo.jpg" border="0"></a></div><p>The instructions were tested using the following setup:</p><ul><li>2 x PCI-e Gig NIC with jumbo frames.</li><li>RAID 6 w/ 5 enterprise grade 15k SAS hard disks.</li><li>Debian Linux 6.0.2 amd64</li></ul><p>Please note that the following instructions should also work on Ubuntu Linux server.</p><h2>Required Software</h2><p>You need to install the following tool:</p><ul><li><strong>ifenslave command</strong>:  It is used to attach and detach slave network devices to a bonding device.  A bonding device will act like a normal Ethernet network device to the kernel, but will send out the packets via the slave devices using a simple round-robin scheduler.  This allows for  simple load-balancing, identical to "channel bonding" or "trunking" techniques used in network switches.</li></ul><h2>Our Sample Setup</h2><pre>Internet
 |                  202.54.1.1 (eth0)
ISP Router/Firewall 192.168.1.254 (eth1)
   \
     \                             +------ Server 1 (Debian file server w/ eth0 &amp; eth1) 192.168.1.10
      +------------------+         |
      | Gigabit Ethernet |---------+------ Server 2 (MySQL) 192.168.1.11
      | with Jumbo Frame |         |
      +------------------+         +------ Server 3 (Apache) 192.168.1.12
                                   |
                                   +-----  Server 4 (Proxy/SMTP/DHCP etc) 192.168.1.13
                                   |
                                   +-----  Desktop PCs / Other network devices (etc)
</pre><h2>Install ifenslave</h2><p>Use the <a href="http://www.cyberciti.biz/tips/linux-debian-package-management-cheat-sheet.html">apt-get command</a> to install ifenslave, enter:<br> <code># apt-get install ifenslave-2.6</code><br> Sample outputs:</p><pre>Reading package lists... Done
Building dependency tree
Reading state information... Done
Note, selecting 'ifenslave-2.6' instead of 'ifenslave'
The following NEW packages will be installed:
  ifenslave-2.6
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 18.4 kB of archives.
After this operation, 143 kB of additional disk space will be used.
Get:1 http://mirror.anl.gov/debian/ squeeze/main ifenslave-2.6 amd64 1.1.0-17 [18.4 kB]
Fetched 18.4 kB in 1s (10.9 kB/s)
Selecting previously deselected package ifenslave-2.6.
(Reading database ... 24191 files and directories currently installed.)
Unpacking ifenslave-2.6 (from .../ifenslave-2.6_1.1.0-17_amd64.deb) ...
Processing triggers for man-db ...
Setting up ifenslave-2.6 (1.1.0-17) ...
update-alternatives: using /sbin/ifenslave-2.6 to provide /sbin/ifenslave (ifenslave) in auto mode.
</pre><h2>Linux bounding Driver Configuration</h2><p>Create a file called /etc/modprobe.d/bonding.conf, enter:<br> <code># vi /etc/modprobe.d/bonding.conf</code><br> Append the following</p><pre>alias bond0 bonding
  options bonding mode=0 arp_interval=100 arp_ip_target=192.168.1.254, 192.168.1.12
</pre><p>Save and close the file. This configuration file is used by the Linux kernel driver called bounding. The options are important here:</p><ol><li><strong>mode=0</strong> : Set the bonding policies to balance-rr (round robin). This is default. This mode provides load balancing and fault tolerance.</li><li><strong>arp_interval=100 </strong>: Set the ARP link monitoring frequency to 100 milliseconds. Without option you will get various warning when start bond0 via <a href="http://www.cyberciti.biz/faq/setting-up-an-network-interfaces-file/">/etc/network/interfaces</a>.</li><li><strong>arp_ip_target=192.168.1.254, 192.168.1.12</strong> :  Use the 192.168.1.254 (router ip) and 192.168.1.2  IP addresses to use as ARP monitoring peers when arp_interval is &gt; 0. This is used determine the health of the link to the targets. Multiple IP addresses must be separated by a comma. At least one IP address must be given (usually I set it to router IP) for ARP monitoring to function. The maximum number of targets that can be specified is 16.</li></ol><h3>How Do I Load the Driver?</h3><p>Type the following command<br> <code># modprobe -v bonding mode=0 arp_interval=100 arp_ip_target=192.168.1.254, 192.168.1.12<br> # tail -f /var/log/messages<br> # ifconfig bond0<br> </code></p><h2>Interface Bonding (Teaming) Configuration</h2><p>First, stop eth0 and eth1 (do not type this over an ssh session), enter:<br> <code># /etc/init.d/networking stop</code><br> You need to modify <a href="http://www.cyberciti.biz/faq/setting-up-an-network-interfaces-file/">/etc/network/interfaces</a> file, enter:<br> <code># cp /etc/network/interfaces /etc/network/interfaces.bak<br> # vi /etc/network/interfaces</code><br> Remove eth0 and eth1 static IP configuration and update the file as follows:</p><pre class="ini">&nbsp;
############ WARNING ####################
# You do not need an <span style="color: rgb(153, 51, 51);">"iface eth0"</span> nor an <span style="color: rgb(153, 51, 51);">"iface eth1"</span> stanza.
# Setup IP address / netmask / gateway as per your requirements.
#######################################
auto lo
iface lo inet loopback
&nbsp;
# The primary network interface
auto bond0
iface bond0 inet static
    address <span style="">192.168</span><span style="">.1</span><span style="">.10</span>
    netmask <span style="">255.255</span><span style="">.255</span><span style="">.0</span>
    network <span style="">192.168</span><span style="">.1</span><span style="">.0</span>
    gateway <span style="">192.168</span><span style="">.1</span><span style="">.254</span>
    slaves eth0 eth1
    # jumbo frame support
    mtu <span style="">9000</span>
    # Load balancing and fault tolerance
    bond-mode balance-rr
    bond-miimon <span style="">100</span>
    bond-downdelay <span style="">200</span>
    bond-updelay <span style="">200</span>
    dns-nameservers <span style="">192.168</span><span style="">.1</span><span style="">.254</span>
    dns-search nixcraft.net.in
&nbsp;</pre><p>Save and close the file. Where,</p><ul><li><strong> address 192.168.1.10</strong> : Dotted quad ip address for bond0.</li><li><strong> netmask 255.255.255.0</strong> : Dotted quad netnask for bond0.</li><li><strong> network 192.168.1.0</strong> : Dotted quad network address for bond0.</li><li><strong> gateway 192.168.1.254</strong> : Default gateway for bond0.</li><li><strong> slaves eth0 eth1</strong> :  Setup a bonding device and enslave two real Ethernet devices (eth0 and eth1) to it.</li><li><strong> mtu 9000</strong> : Set MTU size to 9000. See <a href="http://www.cyberciti.biz/faq/centos-rhel-redhat-fedora-debian-linux-mtu-size/">Linux JumboFrames configuration</a> for more information.</li><li><strong> bond-mode balance-rr</strong> : Set bounding mode profiles to "Load balancing and fault tolerance". See below for more information.</li><li><strong> bond-miimon 100</strong> : Set the MII link monitoring frequency to 100 milliseconds. This determines how often the link state of each slave is inspected for link failures.</li><li><strong> bond-downdelay 200</strong> : Set the time, t0 200 milliseconds, to wait before disabling a slave after a link failure has been detected. <em>This option is only <strong>valid</strong> for the bond-miimon</em>.</li><li><strong> bond-updelay 200</strong> : Set the time, to 200  milliseconds, to wait before enabling a slave after a link recovery has been detected. <em>This option is only <strong>valid</strong> for the bond-miimon</em>.</li><li><strong> dns-nameservers 192.168.1.254</strong> : Use 192.168.1.254 as dns server.</li><li><strong> dns-search nixcraft.net.in</strong> : Use nixcraft.net.in as default host-name lookup (optional).</li></ul><h3>A Note About Various Bonding Policies</h3><p>In the above example bounding policy (mode) is set to 0 or balance-rr. Other possible values are as follows:</p><table border="1"><caption>The Linux bonding driver aggregating policies</caption><tbody><tr><th>Bonding policies (mode)</th><th>Description</th></tr><tr><td>balance-rr or 0</td><td>Round-robin policy to transmit packets in sequential order from the first available slave through the last.  This mode provides load balancing and fault tolerance.</td></tr><tr><td>active-backup or 1</td><td>Active-backup policy. Only one slave in the bond is active.  A different slave becomes active if, and only if, the active slave fails.  This mode provides fault tolerance.</td></tr><tr><td>balance-xor or 2</td><td>Transmit based on the selected transmit hash policy.  The default policy is a simple [(source  MAC address XOR'd with destination MAC address) modulo slave count]. This mode provides load balancing and fault tolerance.</td></tr><tr><td>broadcast or 3</td><td>Transmits everything on all slave interfaces.  This mode provides fault tolerance.</td></tr><tr><td>802.3ad or 4</td><td>Creates aggregation groups that share the same speed and duplex settings.  Utilizes all slaves in the active aggregator according to the 802.3ad specification. Most network switches will require some type of configuration to enable 802.3ad mode.</td></tr><tr><td>balance-tlb or 5</td><td>Adaptive transmit load balancing: channel bonding that does not require any special switch support.  The outgoing traffic is distributed according to the current load (computed relative to the speed) on each slave. Incoming traffic is received by the current slave.  If the receiving slave fails, another slave takes over the MAC address of the failed receiving slave.</td></tr><tr><td>balance-alb or 6</td><td>Adaptive load balancing: includes balance-tlb plus receive load balancing (rlb) for IPV4 traffic, and does not require any special switch support.  The receive load balancing is achieved by ARP negotiation.</td></tr></tbody></table><p>[ <small> Source: See <a href="http://www.cyberciti.biz/howto/question/static/linux-ethernet-bonding-driver-howto.php">Documentation/networking/bonding.txt</a> for more information. </small> ]</p><h3>Start bond0 Interface</h3><p>Now, all configuration files have been modified, and networking service must be started or restarted, enter:<br> <code># /etc/init.d/networking start</code><br> OR<br> <code># /etc/init.d/networking stop &amp;&amp; /etc/init.d/networking start</code></p><h3>Verify New Settings</h3><p>Type the following commands:<br> <code># /sbin/ifconfig</code><br> Sample outputs:</p><pre>bond0     Link encap:Ethernet  HWaddr 00:xx:yy:zz:tt:31
          inet addr:192.168.1.10  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fe80::208:9bff:fec4:3031/64 Scope:Link
          <span style="color: rgb(0, 153, 0);"><b>UP BROADCAST RUNNING MASTER MULTICAST  MTU:9000</b></span>  Metric:1
          RX packets:2414 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1559 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:206515 (201.6 KiB)  TX bytes:480259 (469.0 KiB)
eth0      Link encap:Ethernet  HWaddr 00:xx:yy:zz:tt:31
          UP BROADCAST <span style="color: rgb(0, 153, 0);">RUNNING SLAVE MULTICAST  MTU:9000</span>  Metric:1
          RX packets:1214 errors:0 dropped:0 overruns:0 frame:0
          TX packets:782 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:103318 (100.8 KiB)  TX bytes:251419 (245.5 KiB)
          Memory:fe9e0000-fea00000
eth1      Link encap:Ethernet  HWaddr 00:xx:yy:zz:tt:31
          UP BROADCAST <span style="color: rgb(0, 153, 0);">RUNNING SLAVE MULTICAST  MTU:9000</span>  Metric:1
          RX packets:1200 errors:0 dropped:0 overruns:0 frame:0
          TX packets:777 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:103197 (100.7 KiB)  TX bytes:228840 (223.4 KiB)
          Memory:feae0000-feb00000
lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:8 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:560 (560.0 B)  TX bytes:560 (560.0 B)
</pre><h3>How Do I Verify Current Link Status?</h3><p>Use the <a href="http://www.cyberciti.biz/faq/howto-use-cat-command-in-unix-linux-shell-script/">cat command</a> command to see current status of bounding driver and nic links:<br> <code># cat /proc/net/bonding/bond0 </code><br> Sample outputs:</p><pre>Ethernet Channel Bonding Driver: v3.5.0 (November 4, 2008)
Bonding Mode: load balancing (round-robin)
MII Status: up
MII Polling Interval (ms): 100
Up Delay (ms): 200
Down Delay (ms): 200
Slave Interface: eth0
<span style="color: rgb(0, 153, 0);">MII Status: up
Link Failure Count: 0</span>
Permanent HW addr: 00:xx:yy:zz:tt:31
Slave Interface: eth1
<span style="color: rgb(0, 153, 0);">MII Status: up
Link Failure Count: 0</span>
Permanent HW addr: 00:xx:yy:zz:tt:30
</pre><h2>Example: Link Failure</h2><p>The contents of /proc/net/bonding/bond0 after the link failure:<br> <code># cat /proc/net/bonding/bond0 </code><br> Sample outputs:</p><pre>Ethernet Channel Bonding Driver: v3.5.0 (November 4, 2008)
Bonding Mode: load balancing (round-robin)
<span style="color: rgb(0, 153, 0);">MII Status: up
MII Polling Interval (ms): 100</span>
Up Delay (ms): 200
Down Delay (ms): 200
Slave Interface: eth0
<span style="color: rgb(0, 153, 0);">MII Status: up
Link Failure Count: 0</span>
Permanent HW addr: 00:xx:yy:zz:tt:31
Slave Interface: eth1
<span style="color: rgb(255, 0, 0);">MII Status: down
Link Failure Count: 1</span>
Permanent HW addr: 00:xx:yy:zz:tt:30</pre><p>You will also see the following information in your /var/log/messages file:</p><pre>Sep  5 04:16:15 nas01 kernel: [ 6271.468218] e1000e: eth1 NIC Link is Down
Sep  5 04:16:15 nas01 kernel: [ 6271.548027] bonding: bond0: <span style="color: rgb(255, 0, 0);">link status down for interface eth1</span>, disabling it in 200 ms.
Sep  5 04:16:15 nas01 kernel: [ 6271.748018] bonding: bond0: link status <span style="color: rgb(255, 0, 0);">definitely down for interface eth1, disabling it</span>
</pre><p>However, your nas01 server should work without any problem as eth0 link is still up and running. Next, replace the faulty network card, connect the cable, and you will see the following message in your /var/log/messages file:</p><pre>Sep  5 04:20:21 nas01 kernel: [ 6517.492974] e1000e: <span style="color: rgb(0, 153, 0);">eth1 NIC Link is Up 1000 Mbps Full Duplex</span>, Flow Control: RX/TX
Sep  5 04:20:21 nas01 kernel: [ 6517.548029] bonding: bond0: link status up for <span style="color: rgb(0, 153, 0);">interface eth1, enabling it in 200 ms</span>.
Sep  5 04:20:21 nas01 kernel: [ 6517.748016] bonding: bond0: link status definitely up for interface eth1.
</pre>This blog post is 2 of 2 in the "<em>Linux NIC Interface Bonding (aggregate multiple links) Tutorial</em>" series. Keep reading the rest of the series:<div style="background: none repeat scroll 0% 0% rgb(248, 248, 248); border: 1px solid rgb(204, 204, 204); color: rgb(102, 102, 102); padding-right: 0.3em; font-size: 12px;"><center><strong>Table of Contents:</strong></center><ol><li><a href="http://www.cyberciti.biz/tips/linux-bond-or-team-multiple-network-interfaces-nic-into-single-interface.html" title="Red Hat (RHEL/CentOS) Linux Bond or Team Multiple Network Interfaces (NIC) into a Single Interface">Red Hat (RHEL/CentOS) Linux Bond or Team Multiple Network Interfaces (NIC) into a Single Interface</a></li><li>Debian / Ubuntu Linux Configure Bonding [ Teaming / Aggregating NIC ]</li></ol></div><div style="border-top: 1px solid rgb(221, 221, 221);"><center><em>Share this with other sys admins!</em><br><a target="_top" href="http://www.facebook.com/sharer.php?u=http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html&amp;t=Debian%20/%20Ubuntu%20Linux:%20Configure%20Network%20Bonding%20%20[%20Teaming%20/%20Aggregating%20NIC%20]" title="Share this post on Facebook">Facebook it</a> - <a target="_top" href="http://twitter.com/?status=Debian%20/%20Ubuntu%20Linux:%20Configure%20Network%20Bonding%20%20[%20Teaming%20/%20Aggregating%20NIC%20]%20http://io9.in/t/8008%20by%20nixcraft" title="Tweet this post">Tweet it</a> - <a href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html/print?k=true&amp;r_POST_P_HELPER_ID=8008" title="Print this post">Print it</a> - <div style="height: 15px; width: 70px; display: inline-block; text-indent: 0pt; margin: 0pt; padding: 0pt; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline;" id="___plusone_0"><iframe allowtransparency="true" hspace="0" id="I1_1325926218524" marginheight="0" marginwidth="0" name="I1_1325926218524" src="index_1.html" style="position: static; left: 0pt; top: 0pt; width: 70px; margin: 0px; border-style: none; height: 15px; visibility: visible;" tabindex="-1" vspace="0" title="+1" frameborder="0" scrolling="no" width="100%"></iframe></div>  <br><br> <span style="color: rgb(85, 85, 85); font-size: 16px; font-weight: bold;">We're here to help you make the most of sysadmin work. So, <a href="http://www.cyberciti.biz/tips/subscribe"><em>subscribe!</em></a></span></center></div></div></div><div id="comments"><div id="comments_intro" class="comments_intro"><p><span class="bracket">{</span> <span>7</span> comments… read them below or <a href="#respond" rel="nofollow">add one</a> <span class="bracket">}</span></p></div><dl id="comment_list"><dt class="comment even thread-even depth-1" id="comment-173701"> <span class="comment_num"><a href="#comment-173701" title="Permalink to this comment" rel="nofollow">1</a></span> <span class="comment_author">Armin</span> <span class="comment_time">September 5, 2011</span></dt><dd class="comment even thread-even depth-1"><div class="format_text" id="comment-body-173701"><p>In the past balance-rr was not the right way for us. We get only transmission rates of max 160 Mbyte on 4 gbit network cards. In a local network with ip routing switch the best way is to use balance-xor with addional option xmit_hash_policy=layer2+3. In this environment you must configure the switch correctly to have the full power for receiving. There must be a transmission policy for the switch for traffic that you receive from switch to your client also.</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=173701#respond" onclick='return addComment.moveForm("comment-body-173701", "173701", "respond", "8008")'>Reply</a></p></div></dd><dt class="comment odd alt thread-odd thread-alt depth-1" id="comment-173712"> <span class="comment_num"><a href="#comment-173712" title="Permalink to this comment" rel="nofollow">2</a></span> <span class="comment_author">Cicuta</span> <span class="comment_time">September 5, 2011</span></dt><dd class="comment odd alt thread-odd thread-alt depth-1"><div class="format_text" id="comment-body-173712"><p>Excellent article!</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=173712#respond" onclick='return addComment.moveForm("comment-body-173712", "173712", "respond", "8008")'>Reply</a></p></div></dd><dt class="comment even thread-even depth-1" id="comment-173717"> <span class="comment_num"><a href="#comment-173717" title="Permalink to this comment" rel="nofollow">3</a></span> <span class="comment_author">cyclop</span> <span class="comment_time">September 5, 2011</span></dt><dd class="comment even thread-even depth-1"><div class="format_text" id="comment-body-173717"><p>Hmmm…very excelent….thank you vivek..</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=173717#respond" onclick='return addComment.moveForm("comment-body-173717", "173717", "respond", "8008")'>Reply</a></p></div></dd><dt class="comment odd alt thread-odd thread-alt depth-1" id="comment-173728"> <span class="comment_num"><a href="#comment-173728" title="Permalink to this comment" rel="nofollow">4</a></span> <span class="comment_author">venkat</span> <span class="comment_time">September 6, 2011</span></dt><dd class="comment odd alt thread-odd thread-alt depth-1"><div class="format_text" id="comment-body-173728"><p>Thanx Vivek,</p><p>Great for work for linux admins…</p><p>Venkat</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=173728#respond" onclick='return addComment.moveForm("comment-body-173728", "173728", "respond", "8008")'>Reply</a></p></div></dd><dt class="comment even thread-even depth-1" id="comment-173740"> <span class="comment_num"><a href="#comment-173740" title="Permalink to this comment" rel="nofollow">5</a></span> <span class="comment_author">Sumit</span> <span class="comment_time">September 7, 2011</span></dt><dd class="comment even thread-even depth-1"><div class="format_text" id="comment-body-173740"><p>Thanks for the superb article. Keep it up.</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=173740#respond" onclick='return addComment.moveForm("comment-body-173740", "173740", "respond", "8008")'>Reply</a></p></div></dd><dt class="comment odd alt thread-odd thread-alt depth-1" id="comment-176021"> <span class="comment_num"><a href="#comment-176021" title="Permalink to this comment" rel="nofollow">6</a></span> <span class="comment_author">Wizard</span> <span class="comment_time">November 24, 2011</span></dt><dd class="comment odd alt thread-odd thread-alt depth-1"><div class="format_text" id="comment-body-176021"><p>Hi. Thanks, great article.<br> But I’m facing a problem after reboot the system. The bonding interface cannot start… telling ‘cannot add bond bond0 already exists’<br> You know how to fix this?</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=176021#respond" onclick='return addComment.moveForm("comment-body-176021", "176021", "respond", "8008")'>Reply</a></p></div></dd><dt class="comment even thread-even depth-1" id="comment-176382"> <span class="comment_num"><a href="#comment-176382" title="Permalink to this comment" rel="nofollow">7</a></span> <span class="comment_author">Jair</span> <span class="comment_time">December 2, 2011</span></dt><dd class="comment even thread-even depth-1"><div class="format_text" id="comment-body-176382"><p>How to configure two NICs gigabit to operate as one 2Gigabit speed NIC?<br> Have I some fault tolerance in this mode?</p><p class="reply"><a class="comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html?replytocom=176382#respond" onclick='return addComment.moveForm("comment-body-176382", "176382", "respond", "8008")'>Reply</a></p></div></dd></dl><div id="respond"><div id="respond_intro"> <a rel="nofollow" id="cancel-comment-reply-link" href="http://www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html#respond" style="display: none;">Cancel reply</a><p>Leave a Comment</p></div><form action="http://www.cyberciti.biz/tips/wp-comments-post.php" method="post" id="commentform"><p><input class="text_input" name="author" id="author" value="" tabindex="1" aria-required="true" type="text"><label for="author">Name <span class="required" title="Required">*</span></label></p><p><input class="text_input" name="email" id="email" value="" tabindex="2" aria-required="true" type="text"><label for="email">E-mail <span class="required" title="Required">*</span></label></p><p><input class="text_input" name="url" id="url" value="" tabindex="3" type="text"><label for="url">Website</label></p><p class="comment_box"><textarea name="comment" id="comment" tabindex="4" cols="40" rows="8"></textarea></p> <span class="allowed"><span> <em>You can use these <acronym title="HyperText Markup Language">HTML</acronym> tags and attributes for your code and commands:</em> &lt;strong&gt; &lt;em&gt; &lt;ol&gt; &lt;li&gt; &lt;u&gt; &lt;ul&gt; &lt;blockquote&gt; &lt;pre&gt; &lt;a href="" title=""&gt; </span></span><p style="clear: both;" class="subscribe-to-comments"> <input name="subscribe" id="subscribe" value="subscribe" style="width: auto;" type="checkbox"> <label for="subscribe">Notify me of followup comments via e-mail.</label></p><p class="remove_bottom_margin"> <input name="submit" class="form_submit" id="submit" tabindex="5" value="Submit" type="submit"> <input name="comment_post_ID" value="8008" id="comment_post_ID" type="hidden"> <input name="comment_parent" id="comment_parent" value="0" type="hidden"></p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="07d3465c6e" type="hidden"></p><br><br><center><div id="adslargerectbottom"><div id="load-adslargerectbottom">
	
</div></div></center><br><small><p class="post_tags">Tagged as: <a href="http://www.cyberciti.biz/tips/tag/etcinit-dnetworking" rel="tag">/etc/init.d/networking</a>, <a href="http://www.cyberciti.biz/tips/tag/etcinit-dnetworking-restart" rel="tag">/etc/init.d/networking restart</a>, <a href="http://www.cyberciti.biz/tips/tag/etcinit-dnetworking-start" rel="tag">/etc/init.d/networking start</a>, <a href="http://www.cyberciti.biz/tips/tag/etcinit-dnetworking-stop" rel="tag">/etc/init.d/networking stop</a>, <a href="http://www.cyberciti.biz/tips/tag/procnetbondingbond0" rel="tag">/proc/net/bonding/bond0</a>, <a href="http://www.cyberciti.biz/tips/tag/varlogmessages" rel="tag">/var/log/messages</a>, <a href="http://www.cyberciti.biz/tips/tag/apt-get-command" rel="tag">apt-get command</a>, <a href="http://www.cyberciti.biz/tips/tag/cat-command" rel="tag">cat command</a>, <a href="http://www.cyberciti.biz/tips/tag/how-to-create-a-bond-in-linux" rel="tag">how to create a bond in linux</a>, <a href="http://www.cyberciti.biz/tips/tag/ifconfig-bond" rel="tag">ifconfig bond</a>, <a href="http://www.cyberciti.biz/tips/tag/ifenslave-command" rel="tag">ifenslave command</a>, <a href="http://www.cyberciti.biz/tips/tag/linux-bond" rel="tag">Linux bond</a>, <a href="http://www.cyberciti.biz/tips/tag/linux-bonded-interfaces" rel="tag">linux bonded interfaces</a>, <a href="http://www.cyberciti.biz/tips/tag/linux-bonding" rel="tag">Linux bonding</a>, <a href="http://www.cyberciti.biz/tips/tag/linux-nic-teaming" rel="tag">Linux nic teaming</a>, <a href="http://www.cyberciti.biz/tips/tag/nic-bonding-linux" rel="tag">NIC bonding linux</a></p></small></form></div></div><div class="prev_next post_nav"><p class="previous">Previous post: <a href="http://www.cyberciti.biz/tips/linux-cute-little-xpenguins-walk-along-tops-ofyour-windows.html" rel="prev">Linux Desktop Fun: Summon Swarms Of Penguins To Waddle About The Desktop</a></p><p>Next post: <a href="http://www.cyberciti.biz/tips/faq-updates-sep052011.html" rel="next">FAQ Updates: Sep/05/2011</a></p></div></div><div id="sidebars"><div id="multimedia_box" class="custom_box"><div id="custom_box"><div style="color: rgb(85, 85, 85); text-align: center; line-height: 200%;"> <span style="font-size: 22px; font-weight: bold;">GET FREE TIPS &amp; NEWS</span> <br> <span style="font-style: italic;">Make the most of Linux Sysadmin work!</span> <br></div><center><form action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=Nixcraft-LinuxFreebsdSolarisTipsTricks', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">&nbsp;&nbsp;&nbsp;&nbsp;<input class="text_input" name="email" value="Enter your email" id="name" onclick="if (this.value=='Enter your email') {this.value=''};" onblur="if (this.value=='') {this.value='Enter your email';}" type="text"><input value="Nixcraft-LinuxFreebsdSolarisTipsTricks" name="uri" type="hidden"> <input name="loc" value="en_US" type="hidden"><input value="Join" class="form_submit" type="submit"></form></center></div></div><div id="sidebar_1" class="sidebar"><ul class="sidebar_list"><li class="widget widget_text" id="text-3"><div class="textwidget"><center><div style="color: rgb(221, 221, 221); font-size: 13px;"> <a target="_top" title="Subscribe to nixCraft's RSS feed" href="http://feeds.cyberciti.biz/Nixcraft-LinuxFreebsdSolarisTipsTricks" rel="nofollow">42k+ Subscribers</a> &nbsp; | &nbsp; <a target="_top" href="https://twitter.com/#%21/nixcraft" title="Follow nixCraft on Twitter!">Twitter</a> &nbsp; | &nbsp; <a title="Connect with nixCraft on Google Plus!!" target="_top" href="https://plus.google.com/104257421720370350735">Google +</a></div> <br><div id="adstoprect"><div id="load-adstoprect">

	
</div></div></center></div></li><li class="widget widget_text" id="text-4"><div class="textwidget"><form action="http://www.cyberciti.biz/linux-search.php" id="cse-search-box"><div> <input name="cx" value="002165917076592449621:d37x4vctltg" type="hidden"> <input name="cof" value="FORID:11" type="hidden"> <input name="ie" value="UTF-8" type="hidden"> <input value="" style="background: url('google_custom_search_watermark.gif') no-repeat scroll left center rgb(255, 255, 255);" name="q" size="27" type="text"> <input name="sa" value="Search" type="submit"></div><input value="www.cyberciti.biz/tips/debian-ubuntu-teaming-aggregating-multiple-network-connections.html" name="siteurl" type="hidden"></form> </div></li><li class="widget widget_text" id="text-5"><div class="textwidget"><div id="adswhitepapers"></div></div></li><li class="widget widget_text" id="text-6"><div class="textwidget"><div id="adsfblikeboxrightsidebar"><div id="load-adsfblikeboxrightsidebar">
<iframe src="index_2.html" style="border: medium none; overflow: hidden; width: 300px; height: 290px;" allowtransparency="true" frameborder="0" scrolling="no"></iframe>
</div></div></div></li><li class="widget widget_text" id="text-7"><div class="textwidget"><div id="adsrightsky1"><div id="load-adsrightsky1">
	
</div></div></div></li><li class="widget widget_related_faq"><h3>Related Posts</h3><ul><li><a href="http://www.cyberciti.biz/tips/howto-improve-ssh-session-performance-by-reusing-an-existing-connection-to-a-remote-openssh-server.html" rel="bookmark" title="Permanent Link: Howto improve ssh session performance by reusing an existing connection to a remote openssh server">Howto improve ssh session performance by reusing an existing connection to a remote openssh server</a></li><li><a href="http://www.cyberciti.biz/tips/debian-linux-security-lighttpd-dos-gaim-package-2.html" rel="bookmark" title="Permanent Link: Debian Linux Security Update: Lighttpd DoS and Gaim Package Remote Security Issues">Debian Linux Security Update: Lighttpd DoS and Gaim Package Remote Security Issues</a></li><li><a href="http://www.cyberciti.biz/tips/howto-setting-up-linux-pxe-remote-boot.html" rel="bookmark" title="Permanent Link: Setup Linux PXE remote installation boot server for various distributions">Setup Linux PXE remote installation boot server for various distributions</a></li></ul></li></ul></div></div></div><div id="footer"><div class="idglogo"> <img src="idg-logo-new.gif" alt="" border="0"></div><div class="copynotice"> ©2004-2012 nixCraft. All rights reserved. Cannot be reproduced without written permission. <br> <a href="http://www.cyberciti.biz/tips/privacy">Privacy Policy</a> | <a href="http://www.cyberciti.biz/tips/disclaimer">Terms of Service</a> | <a href="http://www.cyberciti.biz/tips/contact-us" title="Email us / Contact us">Questions or Comments</a> | <a href="http://www.cyberciti.biz/tips/copyright" title="nixCraft copyright information">Copyright Info</a> | <a href="http://www.cyberciti.biz/tips/sitemaps" title="nixCraft sitemap">Sitemap</a></div>	</div>
</div>
</div>
<!--[if lte IE 8]>
<div id="ie_clear"></div>
<![endif]-->







<div style="display: none;">

</div>


<div style="display: none;">

</div>


<div style="display: none;">

</div>


<div style="display: none;">

</div>


<div style="display: none;">

</div>



</body>
</html>
